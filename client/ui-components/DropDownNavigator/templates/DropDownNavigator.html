<ul class="drop-down-navigator">

    <script type="text/ng-template" id="drop-down-navigator-menu">

        <div data-ng-repeat-start="menuItemGroup in item.menu" data-ng-if="false"></div>

            <li data-ng-if="!$first && menuItemGroup.items && menuItemGroup.items.length > 0"
                class="divider"></li>

            <li data-ng-if="menuItemGroup.label && menuItemGroup.items && menuItemGroup.items.length > 0"
                class="label">{{menuItemGroup.label}}
            </li>

            <li data-ng-repeat="item in menuItemGroup.items | limitTo:menuItemGroup.totalItems || 100"
                data-ng-class="{ 'dropdown-submenu':item.menu, 'selected': item.isSelected, 'disabled': item.disabled }">
                <a href="#"
                   data-ng-class="'action-' + item.id"
                   data-ng-click="item.action(item.actionData)">
                    <i data-ng-if="item.iconClass && !item.iconPullRight" data-ng-class="item.iconClass"></i>
                    {{item.label}}
                    <i data-ng-if="item.iconClass && item.iconPullRight" data-ng-class="item.iconClass"></i>
                </a>
                <ul class="dropdown-menu"
                    role="menu"
                    aria-labelledby="dropdownMenu"
                    data-ng-if="item.menu"
                    ng-include="'drop-down-navigator-menu'">
                </ul>
            </li>

            <!--<li class="dot-dot-dot" data-ng-if="menuItemGroup.showAllItems">...</li>-->
            <li class="show-all-items"
                data-ng-if="menuItemGroup.showAllItems &&
                menuItemGroup.items &&
                menuItemGroup.items.length > 0 &&
                menuItemGroup.items.length >  ( menuItemGroup.totalItems || 100 )">
                <a href="#" data-ng-click="menuItemGroup.showAllItems()">
                   Show all...
                </a>
            </li>

        <div data-ng-repeat-end data-ng-if="false"></div>


    </script>

    <script type="text/ng-template" id="navigator-item-template">
        <span class="item-label">{{item.label}}</span>
        <ul class="dropdown-menu"
            role="menu"
            aria-labelledby="dropdownMenu"
            data-ng-if="item.menu"
            ng-include="'drop-down-navigator-menu'">
        </ul>
    </script>

    <!--<script type="text/ng-template" id="branch-selector-template">-->
        <!--<span class="item-label">Branch {{item.label}}</span>-->
    <!--</script>-->

    <li data-ng-repeat-start="item in navigator.items track by $index"
        data-ng-class=" item.itemClass || '' "
        ng-include=" item.itemTemplate || 'navigator-item-template' ">
    </li>
    <li data-ng-repeat-end data-ng-if="navigator.separator && !$last" class="separator">
        <i class="glyphicon glyphicon-chevron-right"></i>
    </li>
</ul>